$(document).ready(function () {
    var input = $('.phone_with_code');
    // var iti = input.intlTelInput({
    //     utilsScript: '/static/js/utils.js',
    //     nationalMode: true,
    //     separateDialCode: true,
    //     initialCountry: "auto",
    //     geoIpLookup: function (success, failure) {
    //         $.get("https://ipinfo.io", function () {
    //         }, "jsonp").always(function (resp) {
    //             var countryCode = (resp && resp.country) ? resp.country : "";
    //             success(countryCode);
    //         });
    //     },
    // });
    $('.phone_with_code').on('keydown', function (e) {
        if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||
            // Allow: Ctrl/cmd+A
            (e.keyCode == 65 && (e.ctrlKey === true || e.metaKey === true)) ||
            //Allow shift/=
            (e.keyCode == 187 && (e.shiftKey === true || e.metaKey === true)) ||
            // Allow: Ctrl/cmd+C
            (e.keyCode == 67 && (e.ctrlKey === true || e.metaKey === true)) ||
            // Allow: Ctrl/cmd+X
            (e.keyCode == 88 && (e.ctrlKey === true || e.metaKey === true)) ||
            // Allow: home, end, left, right
            (e.keyCode >= 35 && e.keyCode <= 39)) {
            // let it happen, don't do anything
            return;
        }
        // Ensure that it is a number and stop the keypress
        if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
            e.preventDefault();
        }
    })
    populateCountries("country", "state"); // first parameter is id of country drop-down and second parameter is id of state drop-down
});